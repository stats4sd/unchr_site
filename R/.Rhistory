!!get(group_name) != "Refugees" ~ "#jkfhs",
TRUE ~ as.character(group_name))
indicators_map$color_group <-indicators_map %>%
list(!!get(group_name) == "Refugees" ~ "#jkfhs",
!!get(group_name) != "Refugees" ~ "#jkfchs",
TRUE ~ as.character(group_name))
indicators_map$color_group <-indicators_map %>%
list(!!get(group_name) == "Refugees" ~ "#jkfhs",
!!get(group_name) != "Refugees" ~ "#jkfchs",
TRUE ~ as.character(group_name))
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Refugees" ~ "#jkfhs",
!!get(indicators_map$group_name) != "Refugees" ~ "#jkfchs",
TRUE ~ as.character(group_name))
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Refugees" ~ "#jkfhs",
!!get(indicators_map$group_name) != "Refugees" ~ "#jkfchs",
TRUE ~ "ok"))
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Refugees" ~ "#jkfhs",
!!get(indicators_map$group_name) != "Refugees" ~ "#jkfchs",
TRUE ~ "ok")
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Refugees" ~ "#jkfhs",
TRUE ~ "ok")
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Refugees" ~ "#jkfhs",
!!get(indicators_map$group_name) != "Refugees" ~ "#jkfchs",
TRUE ~ "ok")
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Refugees" ~ "#jkfhs",
!!get(indicators_map$group_name) != "Refugees" ~ "#jkfchs",
FALSE ~ "ok")
runApp()
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#jkfhs",
!!get(indicators_map$group_name) != "IDPs" ~ "#jkfchs",
FALSE ~ "ok")
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#jkfhs",
!!get(indicators_map$group_name) != "IDPs" ~ "#jkfchs"
)
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) != "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) != "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) != "IDPs (not in camp or settlements)
" ~ "#4292c6",
!!get(indicators_map$group_name) != "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) != "Refugees" ~ "#9ecae1",
)
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) != "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) != "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) != "IDPs (not in camp or settlements)
" ~ "#4292c6",
!!get(indicators_map$group_name) != "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) != "Refugees" ~ "#9ecae1"
)
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) == "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) == "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) == "IDPs (not in camp or settlements)
" ~ "#4292c6",
!!get(indicators_map$group_name) == "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) == "Refugees" ~ "#9ecae1"
)
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) == "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) == "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) == "IDPs (not in camp or settlements)
" ~ "#4292c6",
!!get(indicators_map$group_name) == "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) == "Refugees" ~ "#9ecae1"
)
countries_list <- setNames(indicators$country_code,as.character(indicators$countries_name))
##add number indicators for each country
indicators_map<-indicators %>% group_by(countries_name, group_name, latitude, longitude) %>% summarise('indicator_num'= n())
palette_group<-unique(indicators_map$group_name)
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) == "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) == "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) == "IDPs (not in camp or settlements)
" ~ "#4292c6",
!!get(indicators_map$group_name) == "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) == "Refugees" ~ "#9ecae1"
)
palette_group<-unique(indicators_map$group_name)
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) == "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) == "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) == "IDPs (not in camp or settlements)
" ~ "#4292c6",
!!get(indicators_map$group_name) == "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) == "Refugees" ~ "#9ecae1"
)
palette_group<-group_by(indicators_map$group_name)
palette_group<-indicators_map %>%  group_by(indicators_map$group_name)
palette_group<-indicators_map %>%  group_by(group_name)
View(palette_group)
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) == "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) == "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) == "IDPs (not in camp or settlements)
" ~ "#4292c6",
!!get(indicators_map$group_name) == "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) == "Refugees" ~ "#9ecae1"
)
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) == "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) == "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) == "IDPs (not in camp or settlements)" ~ "#4292c6",
!!get(indicators_map$group_name) == "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) == "Refugees" ~ "#9ecae1"
)
palette_group<-indicators_map %>%  group_by(group_name) %>% mutate("cs")
palette_group<-indicators_map %>%  group_by(group_name='Asylum Seekers') %>% mutate("cs"="#08306b")
palette_group<-indicators_map %>%  group_by(group_name='Asylum Seekers') %>% mutate(#08306b")
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) == "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) == "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) == "IDPs (not in camp or settlements)" ~ "#4292c6",
!!get(indicators_map$group_name) == "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) == "Refugees" ~ "#9ecae1"
)
#indicators<-merge(indicators, indicators_num, by= c('countries_name', 'group_name'))
countries_list <- setNames(indicators$country_code,as.character(indicators$countries_name))
subsets_list <- unique(setNames(indicators$group_name,as.character(indicators$group_name)))
sdg_list <- setNames(unique(indicators$sdg_code),as.character(paste(unique(indicators$sdg_code), unique(indicators$sdg_description), sep=': ')))
sdg_list[!is.na(sdg_list)]
sdg_list <- sort(sdg_list)
sdg_code_list <- unique(indicators$sdg_code)
#data to display in the table
data_table <- dbGetQuery(con,'
SELECT
indicators.group_name,
indicators.indicator_value,
datasets.region,
datasets.year,
datasets.description,
datasets.population_definition,
datasets.source_url,
datasets.comment,
countries.name as countries_name,
sdg_indicators.code as sdg_code
FROM indicators
LEFT JOIN datasets on indicators.dataset_id = datasets.id
LEFT JOIN countries on datasets.country_code = countries.ISO_code
LEFT JOIN sdg_indicators on indicators.sdg_indicator_id = sdg_indicators.id;
')
palette_group<-indicators_map %>%  group_by(group_name='Asylum Seekers') %>% mutate(#08306b")
indicators_map$color_group <-indicators_map %>%
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) == "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) == "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) == "IDPs (not in camp or settlements)" ~ "#4292c6",
!!get(indicators_map$group_name) == "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) == "Refugees" ~ "#9ecae1"
)
#indicators<-merge(indicators, indicators_num, by= c('countries_name', 'group_name'))
countries_list <- setNames(indicators$country_code,as.character(indicators$countries_name))
subsets_list <- unique(setNames(indicators$group_name,as.character(indicators$group_name)))
sdg_list <- setNames(unique(indicators$sdg_code),as.character(paste(unique(indicators$sdg_code), unique(indicators$sdg_description), sep=': ')))
sdg_list[!is.na(sdg_list)]
sdg_list <- sort(sdg_list)
sdg_code_list <- unique(indicators$sdg_code)
#data to display in the table
data_table <- dbGetQuery(con,'
SELECT
indicators.group_name,
indicators.indicator_value,
datasets.region,
datasets.year,
datasets.description,
datasets.population_definition,
datasets.source_url,
datasets.comment,
countries.name as countries_name,
sdg_indicators.code as sdg_code
FROM indicators
LEFT JOIN datasets on indicators.dataset_id = datasets.id
LEFT JOIN countries on datasets.country_code = countries.ISO_code
LEFT JOIN sdg_indicators on indicators.sdg_indicator_id = sdg_indicators.id;
')
palette_group<-indicators_map %>%  group_by(group_name='Asylum Seekers') %>% mutate("#08306b")
palette_group<-indicators_map %>%  group_by(group_name=='Asylum Seekers') %>% mutate("#08306b")
palette_group<-indicators_map %>%  group_by(group_name=='Asylum Seekers') %>% mutate(color = "#08306b")
palette_group<-indicators_map %>%  group_by(group_name=='IDPs') %>% mutate(color = "#08519c")
palette_group<-indicators_map %>%  group_by(group_name=='Asylum Seekers') %>% mutate(color = "#08306b")
%>%  group_by(group_name=='IDPs') %>% mutate(color = "#08519c")
%>%  group_by(group_name=='IDPs') %>% mutate(if (group_name=='Asylum Seekers'), color = "#08519c")
palette_group<-indicators_map %>%  group_by(group_name=='Asylum Seekers') %>% mutate(if (group_name=='Asylum Seekers'), color = "#08519c")
palette_group<-indicators_map %>%  group_by(group_name=='Asylum Seekers') %>% mutate(if (group_name=='Asylum Seekers'){ color = "#08519c"})
palette_group<-indicators_map %>%  group_by(group_name=='Asylum Seekers') %>% mutate(where (group_name=='Asylum Seekers'){ color = "#08519c"})
palette_group<-indicators_map %>%  group_by(group_name=='Asylum Seekers') %>% mutate(where (group_name=='Asylum Seekers'), color = "#08519c")
indicators_map$color_group <-indicators_map %>% data_color(
columns = vars(group_name),
colors = scales::col_numeric(
palette = c(
"red", "orange", "green", "blue", "green", "blue"),
domain = c(0.2E7, 0.4E7))
)
library(paletteer)
library(DBI)
library(DT)
library(maps)
library(dplyr)
library(paletteer)
source('dbConfig.R')
#indicators
indicators<-dbGetQuery(con,'
SELECT
indicators.dataset_id,
indicators.group_name,
indicators.sdg_indicator_id,
indicators.indicator_value,
datasets.region,
datasets.country_code,
datasets.year,
datasets.description,
datasets.population_definition,
datasets.source_url,
datasets.comment,
countries.name as countries_name,
countries.longitude,
countries.latitude,
sdg_indicators.code as sdg_code,
sdg_indicators.description as sdg_description
FROM indicators
LEFT JOIN datasets on indicators.dataset_id = datasets.id
LEFT JOIN countries on datasets.country_code = countries.ISO_code
LEFT JOIN sdg_indicators on indicators.sdg_indicator_id = sdg_indicators.id;
')
indicators$countries_name <- as.factor(indicators$countries_name )
indicators$year <- as.numeric(indicators$year)
indicators$latitude <- as.numeric(indicators$latitude)
indicators$longitude <- as.numeric(indicators$longitude)
indicators$group_name <- as.factor(indicators$group_name)
##get years list for the slider range bar
years<-indicators$year
##add number indicators for each country
indicators_map<-indicators %>% group_by(countries_name, group_name, latitude, longitude) %>% summarise('indicator_num'= n())
indicators_map$color_group <-indicators_map %>% data_color(
columns = vars(group_name),
colors = scales::col_numeric(
palette = c(
"red", "orange", "green", "blue", "green", "blue"),
domain = c(0.2E7, 0.4E7))
)
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) == "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) == "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) == "IDPs (not in camp or settlements)" ~ "#4292c6",
!!get(indicators_map$group_name) == "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) == "Refugees" ~ "#9ecae1"
)
#indicators<-merge(indicators, indicators_num, by= c('countries_name', 'group_name'))
countries_list <- setNames(indicators$country_code,as.character(indicators$countries_name))
subsets_list <- unique(setNames(indicators$group_name,as.character(indicators$group_name)))
sdg_list <- setNames(unique(indicators$sdg_code),as.character(paste(unique(indicators$sdg_code), unique(indicators$sdg_description), sep=': ')))
sdg_list[!is.na(sdg_list)]
sdg_list <- sort(sdg_list)
sdg_code_list <- unique(indicators$sdg_code)
#data to display in the table
data_table <- dbGetQuery(con,'
SELECT
indicators.group_name,
indicators.indicator_value,
datasets.region,
datasets.year,
datasets.description,
datasets.population_definition,
datasets.source_url,
datasets.comment,
countries.name as countries_name,
sdg_indicators.code as sdg_code
FROM indicators
LEFT JOIN datasets on indicators.dataset_id = datasets.id
LEFT JOIN countries on datasets.country_code = countries.ISO_code
LEFT JOIN sdg_indicators on indicators.sdg_indicator_id = sdg_indicators.id;
')
dbDisconnect(con)
indicators_map$color_group <-indicators_map %>% data_color(
columns = vars(group_name),
colors = scales::col_numeric(
palette = c(
"red", "orange", "green", "blue", "green", "blue"),
domain = c(0.2E7, 0.4E7))
)
palette_group$group_name <- unique(indicators_map$group_name)
library(DBI)
library(DT)
library(maps)
library(dplyr)
library(paletteer)
source('dbConfig.R')
#indicators
indicators<-dbGetQuery(con,'
SELECT
indicators.dataset_id,
indicators.group_name,
indicators.sdg_indicator_id,
indicators.indicator_value,
datasets.region,
datasets.country_code,
datasets.year,
datasets.description,
datasets.population_definition,
datasets.source_url,
datasets.comment,
countries.name as countries_name,
countries.longitude,
countries.latitude,
sdg_indicators.code as sdg_code,
sdg_indicators.description as sdg_description
FROM indicators
LEFT JOIN datasets on indicators.dataset_id = datasets.id
LEFT JOIN countries on datasets.country_code = countries.ISO_code
LEFT JOIN sdg_indicators on indicators.sdg_indicator_id = sdg_indicators.id;
')
indicators$countries_name <- as.factor(indicators$countries_name )
indicators$year <- as.numeric(indicators$year)
indicators$latitude <- as.numeric(indicators$latitude)
indicators$longitude <- as.numeric(indicators$longitude)
indicators$group_name <- as.factor(indicators$group_name)
##get years list for the slider range bar
years<-indicators$year
##add number indicators for each country
indicators_map<-indicators %>% group_by(countries_name, group_name, latitude, longitude) %>% summarise('indicator_num'= n())
palette_group$group_name <- unique(indicators_map$group_name)
list(!!get(indicators_map$group_name) == "Asylum Seekers" ~ "#08306b",
!!get(indicators_map$group_name) == "IDPs" ~ "#08519c",
!!get(indicators_map$group_name) == "IDPs (in camps or settlements)" ~ "#2171b5",
!!get(indicators_map$group_name) == "IDPs (not in camp or settlements)" ~ "#4292c6",
!!get(indicators_map$group_name) == "Mixed" ~ "#6baed6",
!!get(indicators_map$group_name) == "Refugees" ~ "#9ecae1"
)
#indicators<-merge(indicators, indicators_num, by= c('countries_name', 'group_name'))
countries_list <- setNames(indicators$country_code,as.character(indicators$countries_name))
subsets_list <- unique(setNames(indicators$group_name,as.character(indicators$group_name)))
sdg_list <- setNames(unique(indicators$sdg_code),as.character(paste(unique(indicators$sdg_code), unique(indicators$sdg_description), sep=': ')))
sdg_list[!is.na(sdg_list)]
sdg_list <- sort(sdg_list)
sdg_code_list <- unique(indicators$sdg_code)
#data to display in the table
data_table <- dbGetQuery(con,'
SELECT
indicators.group_name,
indicators.indicator_value,
datasets.region,
datasets.year,
datasets.description,
datasets.population_definition,
datasets.source_url,
datasets.comment,
countries.name as countries_name,
sdg_indicators.code as sdg_code
FROM indicators
LEFT JOIN datasets on indicators.dataset_id = datasets.id
LEFT JOIN countries on datasets.country_code = countries.ISO_code
LEFT JOIN sdg_indicators on indicators.sdg_indicator_id = sdg_indicators.id;
')
dbDisconnect(con)
palette_group$group_name <- unique(indicators_map$group_name)
palette_group['group_name'] <- unique(indicators_map$group_name)
palette_group<-
palette_group<- unique(indicators_map$group_name)
palette_group[color]<-c("#08306b","#08519c")
palette_group[color]<-c("#08306b","#08519c", "#2171b5", "#4292c6", "#6baed6", "#9ecae1")
palette_group<- unique(indicators_map$group_name)
palette_group<- unique(indicators_map$group_name) %>% mutate(color = c("#08306b","#08519c", "#2171b5", "#4292c6", "#6baed6", "#9ecae1"))
palette_group[color]<-c("#08306b","#08519c", "#2171b5", "#4292c6", "#6baed6", "#9ecae1")
palette_group['color']<-c("#08306b","#08519c", "#2171b5", "#4292c6", "#6baed6", "#9ecae1")
palette_group<- unique(indicators_map$group_name)
palette_group['color']<-c("#08306b","#08519c", "#2171b5", "#4292c6", "#6baed6", "#9ecae1")
palette_group<- (indicators_map$group_name)
palette_group<- unique(palette_group)
palette_group['color']<-c("#08306b","#08519c", "#2171b5", "#4292c6", "#6baed6", "#9ecae1")
palette_group<- unique(palette_group)
palette_group<- (indicators_map$group_name)
palette_group<-data.frame('group_name' = unique(indicators_map$group_name), "color"=c("#08306b","#08519c", "#2171b5", "#4292c6", "#6baed6", "#9ecae1"))
View(palette_group)
indicators_map %>% merge(x=indicators_map, y=palette_group, by=group_name, all.x=TRUE)
indicators_map <- merge(x=indicators_map, y=palette_group, by=group_name, all.x=TRUE)
indicators_map <- merge(x=indicators_map, y=palette_group, by=indicators_map$group_name, all.x=TRUE)
indicators_map <- merge(x=indicators_map, y=palette_group, by="group_name", all.x=TRUE)
runApp()
palette_group <- data.frame('group_name' = unique(indicators_map$group_name), "color"=c("#08306b","#08519c", "#2171b5", "#4292c6", "#6baed6", "#9ecae1"),
'latitude'= c(-1,0,0,1,1,-1), 'longitudine'= c(0,0,1,1,0,1))
indicators_map <- merge(x=indicators_map, y=palette_group, by="group_name", all.x=TRUE)
##create indicator for the maps included the color for the group
indicators_map <- indicators %>% group_by(countries_name, group_name, latitude, longitude) %>% summarise('indicator_num'= n())
palette_group <- data.frame('group_name' = unique(indicators_map$group_name), "color"=c("#08306b","#08519c", "#2171b5", "#4292c6", "#6baed6", "#9ecae1"),
'lat'= c(-1,0,0,1,1,-1), 'long'= c(0,0,1,1,0,1))
indicators_map <- merge(x=indicators_map, y=palette_group, by="group_name", all.x=TRUE)
indicators_map$longitude <- indicators_map$latitude+indicators_map$long
indicators_map$latitude <- indicators_map$latitude+indicators_map$lat
runApp()
runApp()
runApp()
runApp()
runApp()
indicators_map$longitude <- indicators_map$longitude+indicators_map$long
runApp()
palette_group <- data.frame('group_name' = unique(indicators_map$group_name), "color"=c("#08306b","#08519c", "#2171b5", "#4292c6", "#6baed6", "#9ecae1"),
'lat'= c(1,0,0,1,0,-1), 'long'= c(0,-1,1,1,0,1))
indicators_map <- merge(x=indicators_map, y=palette_group, by="group_name", all.x=TRUE)
indicators_map$latitude <- indicators_map$latitude+indicators_map$lat
leafletProxy("mymap") %>%
setView(lng = 0, lat = 0, zoom = 2.5) %>%
#clearMarkers() %>%
addCircleMarkers(lng = indicators_map$longitude,
lat = indicators_map$latitude, radius = 10, stroke=FALSE, color = indicators_map$color,
fillOpacity = 0.6,
popup = paste("<h5><b>Country:</b>",
indicators_map$countries_name, "</h5>",
"<h5><b>Subset:</b>",
indicators_map$group_name,
"<h5><b>Indicators n:</b>", indicators_map$indicator_num , "</h5>"
)) %>%
addLegend("bottomright",colors = unique(indicators_map$color),
labels = unique(indicators_map$group_name),
opacity = 0.6,
# position = "bottomright",
)
leafletProxy("mymap") %>%
setView(lng = 0, lat = 0, zoom = 2.5) %>%
#clearMarkers() %>%
addCircleMarkers(lng = indicators_map$longitude,
lat = indicators_map$latitude, radius = 10, stroke=FALSE, color = indicators_map$color,
fillOpacity = 0.6,
popup = paste("<h5><b>Country:</b>",
indicators_map$countries_name, "</h5>",
"<h5><b>Subset:</b>",
indicators_map$group_name,
"<h5><b>Indicators n:</b>", indicators_map$indicator_num , "</h5>"
)) %>%
addLegend("bottomright",
colors = unique(indicators_map$color),
labels = unique(indicators_map$group_name),
opacity = 0.6,
# position = "bottomright",
)
runApp()
runApp()
leafletProxy("mymap") %>%
setView(lng = 0, lat = 0, zoom = 2.5) %>%
#clearMarkers() %>%
addCircleMarkers(lng = indicators_map$longitude,
lat = indicators_map$latitude, radius = 10, stroke=FALSE, color = indicators_map$color,
fillOpacity = 0.6,
popup = paste("<h5><b>Country:</b>",
indicators_map$countries_name, "</h5>",
"<h5><b>Subset:</b>",
indicators_map$group_name,
"<h5><b>Indicators n:</b>", indicators_map$indicator_num , "</h5>"
)) %>%
addLegend("bottomright",
colors = unique(indicators_map$color),
labels = unique(indicators_map$group_name),
opacity = 0.6,
position = bottom
)
subsets_list <- sort(unique(setNames(indicators$group_name,as.character(indicators$group_name))))
runApp()
charts <-ggplot(data = ChartGroupsSdg(), aes(x=year, y=indicator_value)) +
geom_line(aes(color = group_name, linetype= group_name, fill="SDGs")) +
geom_point(aes(color = group_name), size = 3, alpha = 0.75) +
labs(y="sdg indicators", x = "years")+
ggtitle("SDG Indicator by indicator") +
scale_x_continuous(breaks=years)+
scale_y_continuous(limits =c(0,1))+
scale_linetype("SubSet")
runApp()
runApp()
library("xlsx")
install.packages("xlsx")
library("xlsx")
source("data.R")
write.xlsx(indicators, file = 'indicators.xls', sheetName ="indicators",
col.names = TRUE, row.names = TRUE, append= FALSE)
library("xlsx")
source("data.R")
write.xlsx(indicators, file = 'indicators.xlsx', sheetName ="indicators",
col.names = TRUE, row.names = TRUE, append= FALSE)
library(DBI)
library(dotenv)
#Include databasename, user and password
load_dot_env(file = "../.env")
con <-  DBI::dbConnect(RMySQL::MySQL(),
dbname = Sys.getenv('DB_DATABASE'),
host = Sys.getenv('DB_HOST'),
port = as.numeric(Sys.getenv('DB_PORT')),
user = Sys.getenv('DB_USERNAME'),
password = Sys.getenv('DB_PASSWORD')
)
install.packages(c("dplyr", "DT", "maps"))
library(shiny)
library(shiny)
install.packages(c("dplyr", "DT", "leaflet", "rgdal", "shinyjs"))
packrat::restore()
install.packages(c("dplyr", "DT", "leaflet", "rgdal", "shinyjs"))
install.packages(c("dplyr", "DT", "maps"))
shiny::runApp()
